{
  "/oauth2/token": {
    "post": {
      "tags": ["authentication"],
      "summary": "Authenticate a user using his credentials - standard OAuth 2 version",
      "description": "",
      "operationId": "operation1",
      "produces": ["application/json"],
      "consumes": ["application/x-www-form-urlencoded"],
      "parameters": [
        {
          "name": "grant_type",
          "in": "query",
          "required": true,
          "description": "This field must be set to -password- for an authentication with user credentials, or to -refresh_token- when a refresh token is provided to get a new access token, or -authorization_code- when an authorization code is provided with field code to get access/refresh tokens",
          "type": "string",
          "enum": ["password", "refresh_token", "authorization_code"]
        },
        {
          "name": "username",
          "in": "query",
          "required": false,
          "description": "The resource owner user name, e.g. the customer's digital account login",
          "type": "string"
        },
        {
          "name": "password",
          "in": "query",
          "required": false,
          "description": "The resource owner password, e.g. the customer's digital account password",
          "type": "string"
        },
        {
          "name": "refresh_token",
          "in": "query",
          "description": "The refresh token most recently acquired via the last call to this service (either with grant type password or refresh)",
          "required": false,
          "type": "string"
        },
        {
          "name": "code",
          "in": "query",
          "description": "The code shall be provided only with grant-type equals authorization_code, and is in that case mandatory",
          "required": false,
          "type": "string"
        },
        {
          "name": "request",
          "in": "body",
          "schema": {
            "type": "object",
            "required": ["grant_type"],
            "properties": {
              "grant_type": {
                "type": "string",
                "enum": ["password", "refresh_token", "authorization_code"]
              },
              "username": {
                "description": "The resource owner user name, e.g. the customer's digital account login",
                "type": "string"
              },
              "password": {
                "description": "The resource owner password, e.g. the customer's digital account password",
                "type": "string"
              },
              "refresh_token": {
                "description": "The refresh token most recently acquired via the last call to this service (either with grant type password or refresh)",
                "type": "string"
              },
              "code": {
                "description": "The code shall be provided only with grant-type equals authorization_code, and is in that case mandatory",
                "type": "string"
              }
            }
          }
        }
      ],
      "responses": {
        "200": {
          "description": "successful operation",
          "schema": {
            "$ref": "#/definitions/TokenResponse"
          }
        },
        "401": {
          "description": "Invalid credentials",
          "schema": {
            "$ref": "#/definitions/Error"
          }
        },
        "500": {
          "description": "Internal server error.",
          "schema": {
            "$ref": "#/definitions/Error"
          }
        }
      }
    }
  }
}
